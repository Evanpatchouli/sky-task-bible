import{d as $,u as j,o as a,c as p,a as s,t as u,b,_ as C,e as G,r as w,f as D,w as H,g as E,h as J,i as r,j as l,F as I,k as U,l as P,m as T,n as A,v as L,p as K,q as Q,s as W,x as X,y as Y,z as Z,A as ee}from"./index-C7SEzn-W.js";import{T as se,t as te}from"./tasks-B8sNOWbG.js";const ae={class:"applogo-box"},oe={class:"appname"},ne="images/sky.jpg",le=$({__name:"Logo",setup(m){const c=j();return(t,h)=>(a(),p("div",ae,[s("img",{src:ne,width:"40%"}),s("h1",oe,u(b(c)("$APPNAME")),1)]))}}),ce=C(le,[["__scopeId","data-v-e9e1a4ac"]]),ie=[{name:"晨岛",icon:"https://patchwiki.biligame.com/images/sky/thumb/5/50/bgzxp8takjbi0dwxzdb5l8n628r0or0.png/38px-UI-%E9%9D%92%E8%89%B2%E5%85%89%E8%8A%92.png"},{name:"云野",icon:"https://patchwiki.biligame.com/images/sky/thumb/9/96/l3raum7cxs4miav8aj7xyqcssxcv5xo.png/38px-UI-%E7%BB%BF%E8%89%B2%E5%85%89%E8%8A%92.png"},{name:"雨林",icon:"https://patchwiki.biligame.com/images/sky/thumb/6/60/m5uypa945le6gaf9eahrbq5j2sgr5lc.png/38px-UI-%E6%A9%99%E8%89%B2%E5%85%89%E8%8A%92.png"},{name:"霞谷",icon:"https://patchwiki.biligame.com/images/sky/thumb/9/9c/siwyc6zusg7dm1xq9e0wot8h2v70dc2.png/38px-UI-%E8%93%9D%E8%89%B2%E5%85%89%E8%8A%92.png"},{name:"墓土",icon:"https://patchwiki.biligame.com/images/sky/thumb/a/a0/eck7mv31j2b52wgntjh9j8cv7f0rpx3.png/38px-UI-%E7%BA%A2%E8%89%B2%E5%85%89%E8%8A%92.png"},{name:"禁阁",icon:"https://patchwiki.biligame.com/images/sky/thumb/6/6d/6b1a12qz4n99rg6cyu4mdn1zqrk93n3.png/38px-UI-%E7%B4%AB%E8%89%B2%E5%85%89%E8%8A%92.png"}],M=m=>(K("data-v-45d26777"),m=m(),Q(),m),pe={class:"task-item"},ue=["src"],re=["src"],de={class:"task-filter"},_e={class:"popbox"},ve=M(()=>s("h3",{class:"popbox-title"},"任务类型",-1)),me=["onClick"],he=["src"],ge={class:"popbox"},ke=M(()=>s("h3",{class:"popbox-title"},"所属地图",-1)),fe=["onClick"],be=["src"],Ee="请选择任务",we=$({__name:"TaskItem",props:{value:{type:[null,Number],default:null},valueModifiers:{}},emits:["update:value"],setup(m){const c=j(),t=G(m,"value"),h=w("不限"),g=w("不限"),o=D(()=>{const n=te.filter(v=>(h.value==="不限"||v.type===h.value)&&(g.value==="不限"||v.position.includes(g.value)));return n.length===0?[{id:0,title:"没有符合条件的任务",icon:"images/task-star.png",type:"noTasks",position:[],disabled:!0}]:n}),d=D(()=>o.value.find(n=>n.id===t.value)),k=w(!1),i=()=>{k.value=!0},y=n=>{h.value=n,k.value=!1},x=w(!1),S=()=>{x.value=!0},V=n=>{g.value=n,x.value=!1};H(o,()=>{o.value.find(n=>n.id===t.value)===void 0&&(t.value=null)});const _=w(!1),F=()=>{_.value=!_.value};return(n,v)=>{const R=E("var-option"),O=E("var-select"),q=E("var-button"),z=E("var-popup"),N=J("ripple");return a(),p("div",pe,[r(O,{modelValue:t.value,"onUpdate:modelValue":v[0]||(v[0]=e=>t.value=e),placeholder:Ee,clearable:"",class:"task-selector"},{default:l(()=>[(a(!0),p(I,null,U(o.value,(e,f)=>(a(),P(R,{key:f,label:e.title,value:e.id,disabled:e.disabled},{default:l(()=>[s("img",{class:"task-icon",src:e.icon},null,8,ue),s("span",null,u(b(c)(e.title)||e.title),1)]),_:2},1032,["label","value","disabled"]))),128))]),selected:l(()=>{var e,f,B;return[s("img",{class:"task-icon",src:(e=d.value)==null?void 0:e.icon},null,8,re),s("span",null,u(b(c)((f=d.value)==null?void 0:f.title)||((B=d.value)==null?void 0:B.title)),1)]}),_:1},8,["modelValue"]),s("div",de,[T((a(),p("div",{class:"coll",onClick:F},[A(u(_.value?">":"<"),1)])),[[N]]),T(r(q,{onClick:i},{default:l(()=>[A(u(h.value),1)]),_:1},512),[[L,_.value]]),T(r(q,{onClick:S},{default:l(()=>[A(u(g.value),1)]),_:1},512),[[L,_.value]])]),r(z,{show:k.value,"onUpdate:show":v[1]||(v[1]=e=>k.value=e),title:"任务类型",class:"popcard"},{default:l(()=>[s("div",_e,[ve,(a(!0),p(I,null,U(b(se),(e,f)=>T((a(),p("div",{onClick:B=>y(e.name),key:f,class:"popitem"},[s("img",{class:"task-icon",src:e.icon},null,8,he),s("span",null,u(e.name),1)],8,me)),[[N]])),128))])]),_:1},8,["show"]),r(z,{show:x.value,"onUpdate:show":v[2]||(v[2]=e=>x.value=e),title:"所属地图"},{default:l(()=>[s("div",ge,[ke,(a(!0),p(I,null,U(b(ie),(e,f)=>T((a(),p("div",{onClick:B=>V(e.name),key:f,class:"popitem"},[s("img",{class:"task-icon",src:e.icon},null,8,be),s("span",null,u(e.name),1)],8,fe)),[[N]])),128))])]),_:1},8,["show"])])}}}),ye=C(we,[["__scopeId","data-v-45d26777"]]),xe={class:"tasks-box"},Te=$({__name:"Task",setup(m){const c=W("tasks");if(!c)throw new Error("tasks is not provided");return(t,h)=>{const g=E("var-card");return a(),p("div",xe,[r(g,{style:{width:"90%"}},{default:l(()=>[(a(!0),p(I,null,U(b(c),(o,d)=>(a(),P(ye,{key:d,value:o.id,"onUpdate:value":k=>o.id=k},null,8,["value","onUpdate:value"]))),128))]),_:1})])}}}),Ae=C(Te,[["__scopeId","data-v-be6614cc"]]),Be=$({__name:"HomeView",setup(m){const c=j(),t=X(Array.from({length:4},()=>({id:null})));Z("tasks",t);const h=Y(),g=()=>{if(t.every(i=>i.id===null)){o.value=!0;return}h.setTaskIds(t.map(i=>i.id)),ee.push(`/result?ids=${JSON.stringify(t.map(i=>i.id))}`)},o=w(!1),d=w(!1),k=()=>{setTimeout(()=>{t.forEach(i=>{i.id=null}),d.value=!1},500)};return(i,y)=>{const x=E("var-button"),S=E("var-snackbar"),V=E("var-pull-refresh");return a(),P(V,{modelValue:d.value,"onUpdate:modelValue":y[1]||(y[1]=_=>d.value=_),onRefresh:k},{default:l(()=>[r(ce),r(Ae),r(x,{type:"primary",onClick:g},{default:l(()=>[A(u(b(c)("$GENERATE_RESULT")),1)]),_:1}),r(S,{type:"info",show:o.value,"onUpdate:show":y[0]||(y[0]=_=>o.value=_)},{default:l(()=>[A(u(b(c)("$NONE_OF_UNSELECTED_TASK")),1)]),_:1},8,["show"])]),_:1},8,["modelValue"])}}}),$e=C(Be,[["__scopeId","data-v-93acab83"]]);export{$e as default};
